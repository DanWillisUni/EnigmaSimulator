@model EngimaSimulator.Models.EnigmaConfiguration.PlugboardViewModel
@using System.Linq
@{
    ViewData["Title"] = "Plugboard";
}
<h1>@ViewData["Title"]</h1>

<form asp-controller="EnigmaConfiguration" asp-action="Plugboard" method="post">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <div class="col-md-12">
        @for (int i = 1; i <= 10; i++)
        {
            <label>Pair @i:</label>
            string AValue = "";
            string BValue = "";
            @if (Model.plugboard.Count >= i)
            {
                AValue = @Convert.ToString(Model.plugboard.ElementAt(i - 1).Key);
                BValue = @Convert.ToString(Model.plugboard.ElementAt(i - 1).Value);
            }

            <select class="select" value="@AValue" name="Pair @i A" id="Pair @i A">
                @if (AValue == "")
                {
                    <option value="" disabled selected hidden>Choose here</option>
                }
                @for (int a = 0; a <= 25; a++)
                {
                    string option = Convert.ToString(Convert.ToChar(65 + a));
                    if (option == AValue)
                    {
                        <option value="@option" selected>@option</option>
                    }
                    else
                    {
                        <option value="@option">@option</option>
                    }
                }
            </select>
            <select class="select" value="@BValue" name="Pair @i B" id="Pair @i B">
                @if (BValue == "")
                {
                    <option value="" disabled selected hidden>Choose here</option>
                }
                @for (int b = 0; b <= 25; b++)
                {
                    string option = Convert.ToString(Convert.ToChar(65 + b));
                    if (option == BValue)
                    {
                        <option value="@option" selected>@option</option>
                    }
                    else
                    {
                        <option value="@option">@option</option>
                    }
                }
            </select><br>
        }
    </div>
    <div class="form-group col-md-12 row">
        <div class="col-sm-6"></div>
        <div class="col-sm-2">
            <button type="submit" name="Command" value="clear" class="btn btn-primary">Clear</button>
        </div>
        <div class="col-sm-4">
            <button type="submit" name="Command" value="Enigma" class="btn btn-primary">Go to Simulator</button>
        </div>
    </div>
</form>

@section scripts{
    <script>
        /*$('.select').change(function () {
            $('.select').value.not("");
        });*/
    </script>
}
